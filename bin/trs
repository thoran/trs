#!/usr/bin/env ruby
# trs

# 20150704
# 0.8.1

require_relative '../lib/Switches'
require_relative '../lib/ToyRobotSimulator'

switches = Switches.new do |s|
  s.set(:p, :program_name)
  s.set(:d, :directory, :programs_directory)
  s.set(:t, :tabletop, :tabletop_dimensions)
end

trs = ToyRobotSimulator.new

[:program_name, :programs_directory, :tabletop_dimensions].each do |switch|
  switch_value = switches.send(switch)
  trs.send(switch.to_s + '=', switch_value) if switch_value
end

trs.setup
trs.run
