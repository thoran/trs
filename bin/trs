#!/usr/bin/env ruby
# trs

# 20120331
# 0.4.0

# Changes since 0.3: 
# 1. Initialization of the tabletop now happens as soon as the trs.tabletop_dimensions variable is set.  
# 2. Initialization of the toy robots now happens as soon as the trs.number_of_toy_robots variable is set.  

require_relative '../lib/Switches'
require_relative '../lib/ToyRobotSimulator'

switches = Switches.new do |s|
  s.set(:p, :program)
  s.set(:d, :directory, :programs_directory)
  s.set(:t, :tabletop, :tabletop_dimensions)
  s.set(:n, :number_of_toy_robots)
  s.set(:e?, :extras?)
end

trs = ToyRobotSimulator.new
trs.program = switches.program if switches.program
trs.programs_directory = switches.programs_directory || File.join(File.dirname(__FILE__), '../programs')
trs.tabletop_dimensions = switches.tabletop_dimensions || '5x5'
trs.number_of_toy_robots = switches.number_of_toy_robots || 1
trs.extras = switches.extras? || false
trs.run
